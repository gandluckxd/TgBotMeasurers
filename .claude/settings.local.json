{
  "permissions": {
    "allow": [
      "Bash(mkdir:*)",
      "Bash(tree:*)",
      "Bash(pip install:*)",
      "Bash(if exist \"measurerers_bot.db\" del measurerers_bot.db)",
      "Bash(d:/TgBotMeasurers/venv/Scripts/python.exe:*)",
      "Bash(python:*)",
      "Bash(netstat:*)",
      "Bash(findstr:*)",
      "Bash(taskkill:*)",
      "Bash(d:\\TgBotMeasurers\\venv\\Scripts\\python.exe:*)",
      "Bash(venv\\Scripts\\python.exe:*)",
      "Bash(where:*)",
      "Bash(del test_amocrm.py test_token_simple.py get_amocrm_tokens.py amocrm_auth_link.py)",
      "Bash(venvScriptspython.exe main.py)",
      "Bash(./venv/Scripts/python.exe:*)",
      "Bash(dir /b:*)",
      "Bash(dir:*)",
      "Bash(venv\\Scripts\\python.exe -m pip:*)",
      "Bash(nul)",
      "Bash(git log:*)",
      "Bash(find:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(del /f .coverage .coveragerc coverage.xml 2)",
      "Bash(venv\\Scripts\\pip.exe:*)",
      "Bash(rm:*)",
      "Bash(./venv/Scripts/pip.exe:*)",
      "Bash(tasklist:*)",
      "Bash(timeout /t 3 /nobreak)",
      "Bash(.\\venv\\Scripts\\python.exe:*)",
      "Bash(ping:*)",
      "Bash(d:TgBotMeasurersvenvScriptspython.exe main.py)",
      "Bash(cmd.exe /c \"d:\\TgBotMeasurers\\venv\\Scripts\\python.exe main.py\")",
      "Bash(.\\venv\\Scripts\\python.exe -m py_compile:*)",
      "Bash(venv\\Scripts\\python.exe -m py_compile:*)",
      "Bash(d:\\TgBotMeasurers\\venv\\Scripts\\python.exe -m py_compile:*)",
      "Bash(d:TgBotMeasurersvenvScriptspython.exe clear_db.py)",
      "Bash(del clear_db.py)",
      "Bash(venv\\Scripts\\pip.exe install:*)",
      "Bash(.\\venv\\Scripts\\pyinstaller.exe:*)",
      "Bash(venv/Scripts/pyinstaller.exe:*)",
      "Bash(dist/MeasurersBot.exe)",
      "Bash(.venvScriptspython.exe -m py_compile database/database.py)",
      "Bash(d:TgBotMeasurersvenvScriptspython.exe -m py_compile database/models.py)",
      "Bash(d:TgBotMeasurersvenvScriptspython.exe -m py_compile database/database.py)",
      "Bash(d:TgBotMeasurersvenvScriptspython.exe -m py_compile bot/utils/notifications.py)",
      "Bash(d:TgBotMeasurersvenvScriptspython.exe -m py_compile bot/handlers/admin.py)",
      "Bash(d:TgBotMeasurersvenvScriptspython.exe -m py_compile server/webhook.py)",
      "Bash(venvScriptspython.exe migrationsmigrate.py)",
      "Bash(.venvScriptspython.exe migrationsmigrate.py)",
      "Bash(.\\venv\\Scripts\\pip.exe install:*)",
      "Bash(del clear_all_except_zones.py)",
      "Bash(py test_sheets_export.py:*)",
      "Bash(py clear_database.py:*)",
      "Bash(del fill_test_data.py add_5_more_records.py test_sheets_export.py clear_database.py)",
      "Bash(.venvScriptspyinstaller.exe --clean exporter.spec)",
      "Bash(del measurerers_bot.db)",
      "Bash(if exist measurerers_bot.db del measurerers_bot.db)",
      "Bash(if exist distmeasurerers_bot.db del distmeasurerers_bot.db)",
      "Bash(alembic revision:*)",
      "Bash(py add_new_columns.py:*)",
      "Bash(build_all.bat)",
      "Bash(cmd.exe /c build_all.bat)",
      "Bash(cmd /c \"dir /s /b d:\\TgBotMeasurers\\*.db\")",
      "Bash(.venvScriptspyinstaller.exe --clean main.spec)",
      "Bash(venv\\Scripts\\pyinstaller.exe:*)",
      "Bash(cmd /c build_all.bat)",
      "Bash(timeout /t 5 /nobreak)",
      "Bash(d:\\TgBotMeasurers\\venv\\Scripts\\pyinstaller.exe:*)",
      "Bash(./venv/Scripts/pyinstaller.exe:*)",
      "Bash(.venvScriptspython.exe check_db_migration.py)",
      "Bash(py check_db_migration.py)",
      "Bash(iconv:*)",
      "Bash(py -c:*)",
      "Bash(git push:*)",
      "Bash(py bot/utils/notifications.py)",
      "Bash(git for-each-ref:*)",
      "Bash(xargs:*)",
      "Bash(git reflog expire:*)",
      "Bash(git gc:*)",
      "Bash(py test_webhook.py --help)",
      "Bash(cat:*)",
      "Bash(py -m py_compile:*)",
      "Bash(py migrations/apply_dealer_migration.py)",
      "Bash(py update_admin_filters.py:*)",
      "Bash(py cleanup_admin_checks.py:*)",
      "Bash(del update_admin_filters.py cleanup_admin_checks.py)",
      "Bash(venvScriptspython.exe -c \"from database.models import UserRole; print(''Admin:'', UserRole.ADMIN); print(''Supervisor:'', UserRole.SUPERVISOR)\")",
      "Bash(cmd.exe /c \"venv\\Scripts\\python.exe -m py_compile:*)",
      "Bash(cmd.exe /c \"venv\\Scripts\\python.exe test_filters.py\")",
      "Bash(cmd.exe /c \"venv\\Scripts\\python.exe test_filters.py 2>&1\")",
      "Bash(py test_filters.py:*)",
      "Bash(py update_measurer_filters.py:*)",
      "Bash(cmd.exe:*)",
      "Bash(python test_phone_formatter.py:*)",
      "Bash(py -3.12 test_phone_formatter.py:*)",
      "Bash(wc:*)",
      "Bash(python -c \"\nimport re\n\n# Читаем файл\nwith open(''bot/utils/notifications.py'', ''r'', encoding=''utf-8'') as f:\n    content = f.read()\n\n# Находим все функции send_ и добавляем декораторы\nfunctions = [\n    (''send_assignment_notification_to_measurer'', ''ASSIGNMENT_TO_MEASURER''),\n    (''send_assignment_notification_to_manager'', ''ASSIGNMENT_TO_MANAGER''),\n    (''send_new_measurement_notification_to_observers'', ''NEW_MEASUREMENT_TO_OBSERVERS''),\n    (''send_assignment_notification_to_observers'', ''ASSIGNMENT_TO_OBSERVERS''),\n    (''send_status_change_notification'', ''STATUS_CHANGE''),\n    (''send_measurer_change_notification'', ''MEASURER_CHANGE''),\n    (''send_completion_notification'', ''COMPLETION'')\n]\n\nfor func_name, notif_type in functions:\n    # Ищем функцию без декоратора\n    pattern = f''(^async def {func_name}\\\\()''\n    replacement = f''@log_notification(\"\"{notif_type}\"\")\\n\\1''\n    content = re.sub(pattern, replacement, content, flags=re.MULTILINE)\n\n# Сохраняем\nwith open(''bot/utils/notifications.py'', ''w'', encoding=''utf-8'') as f:\n    f.write(content)\n\nprint(''✅ Декораторы добавлены ко всем функциям уведомлений'')\n\")",
      "Bash(.venvScriptsactivate)",
      "Bash(./venv/Scripts/python.exe -c:*)",
      "Bash(timeout 30 ./venv/Scripts/python.exe:*)",
      "Bash(ls:*)",
      "Bash(test:*)",
      "Bash(python main.py:*)",
      "Bash(type:*)",
      "Bash(powershell -Command \"$input | Select-Object -First 5\")",
      "Bash(python -m py_compile:*)"
    ],
    "deny": [],
    "ask": []
  }
}
